
  You can now view your Streamlit app in your browser.

  Network URL: http://10.2.0.4:8501
  External URL: http://20.204.74.228:8501

  Stopping...
Exception in thread ScriptRunner.scriptThread:
Traceback (most recent call last):
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 298, in _run_script_thread
    self._run_script(request.rerun_data)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 608, in _run_script
    self._on_script_finished(ctx, finished_event)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 628, in _on_script_finished
    self.on_event.send(self, event=event)
  File "/usr/lib/python3/dist-packages/blinker/base.py", line 266, in send
    return [(receiver, receiver(sender, **kwargs))
  File "/usr/lib/python3/dist-packages/blinker/base.py", line 266, in <listcomp>
    return [(receiver, receiver(sender, **kwargs))
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/runtime/app_session.py", line 401, in _on_scriptrunner_event
    self._event_loop.call_soon_threadsafe(
  File "/usr/lib/python3.8/asyncio/base_events.py", line 764, in call_soon_threadsafe
    self._check_closed()
  File "/usr/lib/python3.8/asyncio/base_events.py", line 508, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed
  Stopping...
Exception ignored in: <module 'threading' from '/usr/lib/python3.8/threading.py'>
Traceback (most recent call last):
  File "/usr/lib/python3.8/threading.py", line 1388, in _shutdown
    lock.acquire()
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/web/bootstrap.py", line 61, in signal_handler
    server.stop()
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/web/server/server.py", line 333, in stop
    self._runtime.stop()
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/runtime/runtime.py", line 331, in stop
    async_objs.eventloop.call_soon_threadsafe(stop_on_eventloop)
  File "/usr/lib/python3.8/asyncio/base_events.py", line 764, in call_soon_threadsafe
    self._check_closed()
  File "/usr/lib/python3.8/asyncio/base_events.py", line 508, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

  You can now view your Streamlit app in your browser.

  Network URL: http://10.2.0.4:8501
  External URL: http://20.204.74.228:8501

Traceback (most recent call last):
  File "/home/analytics-admin/.local/bin/streamlit", line 8, in <module>
    sys.exit(main())
  File "/usr/lib/python3/dist-packages/click/core.py", line 764, in __call__
    return self.main(*args, **kwargs)
  File "/usr/lib/python3/dist-packages/click/core.py", line 717, in main
    rv = self.invoke(ctx)
  File "/usr/lib/python3/dist-packages/click/core.py", line 1137, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
  File "/usr/lib/python3/dist-packages/click/core.py", line 956, in invoke
    return ctx.invoke(self.callback, **ctx.params)
  File "/usr/lib/python3/dist-packages/click/core.py", line 555, in invoke
    return callback(*args, **kwargs)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/web/cli.py", line 205, in main_run
    _main_run(target, args, flag_options=kwargs)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/web/cli.py", line 237, in _main_run
    bootstrap.run(file, command_line, args, flag_options)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/web/bootstrap.py", line 358, in run
    _install_pages_watcher(main_script_path)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/web/bootstrap.py", line 334, in _install_pages_watcher
    watch_dir(
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/watcher/path_watcher.py", line 153, in watch_dir
    return _watch_path(
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/watcher/path_watcher.py", line 128, in _watch_path
    watcher_class(
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/watcher/event_based_path_watcher.py", line 91, in __init__
    path_watcher.watch_path(
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/watcher/event_based_path_watcher.py", line 169, in watch_path
    folder_handler.watch = self._observer.schedule(
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/watchdog/observers/api.py", line 301, in schedule
    emitter.start()
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/watchdog/utils/__init__.py", line 92, in start
    self.on_thread_start()
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/watchdog/observers/inotify.py", line 119, in on_thread_start
    self._inotify = InotifyBuffer(path, self.watch.is_recursive)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/watchdog/observers/inotify_buffer.py", line 37, in __init__
    self._inotify = Inotify(path, recursive)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/watchdog/observers/inotify_c.py", line 179, in __init__
    self._add_dir_watch(path, recursive, event_mask)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/watchdog/observers/inotify_c.py", line 402, in _add_dir_watch
    self._add_watch(full_path, mask)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/watchdog/observers/inotify_c.py", line 416, in _add_watch
    Inotify._raise_error()
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/watchdog/observers/inotify_c.py", line 428, in _raise_error
    raise OSError(errno.ENOSPC, "inotify watch limit reached")
OSError: [Errno 28] inotify watch limit reached
Traceback (most recent call last):
  File "/home/analytics-admin/.local/bin/streamlit", line 8, in <module>
    sys.exit(main())
  File "/usr/lib/python3/dist-packages/click/core.py", line 764, in __call__
    return self.main(*args, **kwargs)
  File "/usr/lib/python3/dist-packages/click/core.py", line 717, in main
    rv = self.invoke(ctx)
  File "/usr/lib/python3/dist-packages/click/core.py", line 1137, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
  File "/usr/lib/python3/dist-packages/click/core.py", line 956, in invoke
    return ctx.invoke(self.callback, **ctx.params)
  File "/usr/lib/python3/dist-packages/click/core.py", line 555, in invoke
    return callback(*args, **kwargs)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/web/cli.py", line 205, in main_run
    _main_run(target, args, flag_options=kwargs)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/web/cli.py", line 237, in _main_run
    bootstrap.run(file, command_line, args, flag_options)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/web/bootstrap.py", line 358, in run
    _install_pages_watcher(main_script_path)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/web/bootstrap.py", line 334, in _install_pages_watcher
    watch_dir(
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/watcher/path_watcher.py", line 153, in watch_dir
    return _watch_path(
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/watcher/path_watcher.py", line 128, in _watch_path
    watcher_class(
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/watcher/event_based_path_watcher.py", line 91, in __init__
    path_watcher.watch_path(
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/watcher/event_based_path_watcher.py", line 169, in watch_path
    folder_handler.watch = self._observer.schedule(
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/watchdog/observers/api.py", line 301, in schedule
    emitter.start()
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/watchdog/utils/__init__.py", line 92, in start
    self.on_thread_start()
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/watchdog/observers/inotify.py", line 119, in on_thread_start
    self._inotify = InotifyBuffer(path, self.watch.is_recursive)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/watchdog/observers/inotify_buffer.py", line 37, in __init__
    self._inotify = Inotify(path, recursive)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/watchdog/observers/inotify_c.py", line 179, in __init__
    self._add_dir_watch(path, recursive, event_mask)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/watchdog/observers/inotify_c.py", line 402, in _add_dir_watch
    self._add_watch(full_path, mask)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/watchdog/observers/inotify_c.py", line 416, in _add_watch
    Inotify._raise_error()
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/watchdog/observers/inotify_c.py", line 428, in _raise_error
    raise OSError(errno.ENOSPC, "inotify watch limit reached")
OSError: [Errno 28] inotify watch limit reached
2023-09-09 02:50:19.523 Uncaught app exception
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 159, in _new_conn
    conn = connection.create_connection(
  File "/usr/lib/python3/dist-packages/urllib3/util/connection.py", line 84, in create_connection
    raise err
  File "/usr/lib/python3/dist-packages/urllib3/util/connection.py", line 74, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
    httplib_response = self._make_request(
  File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 387, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python3.8/http/client.py", line 1256, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/lib/python3.8/http/client.py", line 1302, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/lib/python3.8/http/client.py", line 1251, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/lib/python3.8/http/client.py", line 1011, in _send_output
    self.send(msg)
  File "/usr/lib/python3.8/http/client.py", line 951, in send
    self.connect()
  File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 187, in connect
    conn = self._new_conn()
  File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 171, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f809fbc1c10>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/requests/adapters.py", line 439, in send
    resp = conn.urlopen(
  File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
    retries = retries.increment(
  File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 436, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='20.123.74.246', port=5000): Max retries exceeded with url: /getdata (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f809fbc1c10>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 564, in _run_script
    exec(code, module.__dict__)
  File "/home/analytics-admin/preprocess.py", line 19, in <module>
    responses = requests.get('http://20.123.74.246:5000/getdata')
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/requests/api.py", line 76, in get
    return request('get', url, params=params, **kwargs)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/requests/api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/requests/sessions.py", line 542, in request
    resp = self.send(prep, **send_kwargs)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/requests/sessions.py", line 655, in send
    r = adapter.send(request, **kwargs)
  File "/home/analytics-admin/.local/lib/python3.8/site-packages/requests/adapters.py", line 516, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='20.123.74.246', port=5000): Max retries exceeded with url: /getdata (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f809fbc1c10>: Failed to establish a new connection: [Errno 111] Connection refused'))
  Stopping...
